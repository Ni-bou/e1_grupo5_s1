<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Registro</title>
    <link rel="stylesheet" href="detalles.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css" integrity="sha512-DTOQO9RWCH3ppGqcWaEA1BIZOC6xxalwEsw9c2QQeAIftl+Vegovlnee1c9QX4TctnWMn13TZye+giMm8e2LwA==" crossorigin="anonymous" referrerpolicy="no-referrer" />
</head>
<body>

    <div class="contenido">
        <div class="cont-formulario">
            <h1 id="Titulo"> Registro </h1>

                        <form action="" method="get" name="registro" id="formulario_registro"> 

                            <div class="input-group">
            
                                <div class="input-field">
                                    <i class="fa-solid fa-user"></i>
                                    <input type="text" placeholder="Nombre" name="Nombre" id="Nombre">
                                </div>
                                <div class="input-field">
                                    <i class="fa-solid fa-solid fa-circle-user"></i>
                                    <input type="text" placeholder="Nombre usuario" name="Nombre usuario" id="Nombre usuario">
                                </div>
                                <div class="input-field" id="name">
                                    <i class="fa-solid fa-envelope"></i>
                                    <input type="email" placeholder="Correo" name="Correo" id="Correo">
                                </div>
                                <div class="input-field" id="fecha_nacimiento">
                                    <i class="fa-solid fa-calendar"></i>
                                    <input type="date" placeholder="Fecha nacimiento" name="Fecha nacimiento" id="Fecha nacimiento">
                                </div>
                                <div class="input-field" id="direccion">
                                    <i class="fa-solid fa-location"></i>
                                    <input type="text" placeholder="Dirección Despacho" name="Dirección" id="Dirección">
                                </div>
                                <div class="input-field">
                                    <i class="fa-solid fa-lock"></i>
                                    <input type="password" placeholder="Contraseña" name="Contraseña" id="Contraseña">
                                </div>
                                <div class="input-field">
                                    <i class="fa-solid fa-lock"></i>
                                    <input type="password" placeholder="Repetir Contraseña" name="Repetir contraseña" id="Repetir contraseña">
                                </div>
                                <p>¿Olvidaste tu contraseña? <a href="#">Haz click aqui!</a> </p>
                                
                            </div>
                            <div class="btn-limpiar">
                                <button name="limpiar" value="Limpiar" type="reset"   >limpiar</button>
                                
                            </div>
                            <br></br>
                            <div class="btn-field">
                                <button id= "registro" type="submit">Registro</button>
                                <button id= "login" type="submit" class="disable">Login</button>
                                
                            </div>
            
                        </form>
                        <br></br>
            <div style=" display: block;">
                <A HREF="Portada.html" style="color: aliceblue; height: 30%;;">Volver a la portada</A>  <!-- Enlace a la portada -->
            </div>

        </div>
    </div>
    <script src="https://code.jquery.com/jquery-3.7.1.js">
    </script>
    <script src="javascript.js"></script>

    <script>
        const form = document.getElementById('formulario_registro');

form.addEventListener('submit', function(event) {
    event.preventDefault();

    const nombreInput = document.getElementById('Nombre');
    const nombreUsuarioInput = document.getElementById('Nombre usuario');
    const correoInput = document.getElementById('Correo');
    const fechaInput = document.getElementById('Fecha nacimiento');
    const fecha_nacimiento = new Date(fechaInput.value);
    const contrasenaInput = document.getElementById('Contraseña');
    const repetirContrasenaInput = document.getElementById('Repetir contraseña');

    var errores = '';

    if (nombreInput.value === '') {
        errores += 'Ingrese nombre\n';
    }

    if (nombreUsuarioInput.value === '') {
        errores += 'Ingrese Nombre usuario\n';
    }

    if (correoInput.value === '') {
        errores += 'Ingrese Correo electrónico\n';
    }

    if (fechaInput.value === '') {
        errores += 'Ingrese Fecha Nacimiento correcta\n';
    }else if (2011 < fecha_nacimiento.getFullYear()+1){
        errores += 'Ingrese Fecha Nacimiento valida\n';
    }

    if (contrasenaInput.value === '') {
        errores += 'Ingrese Contraseña\n';
    } else if (contrasenaInput.value.length < 6 || contrasenaInput.value.length >= 18) {
        errores += 'La contraseña debe tener entre 6 y 18 caracteres\n';
    } else if (!/(?=.*[A-Z])(?=.*\d)/.test(contrasenaInput.value)) {
        errores += 'La contraseña debe contener al menos una letra mayúscula y un número\n';
    }

    if (repetirContrasenaInput.value === '') {
        errores += 'Repita Contraseña\n';
    } else if (repetirContrasenaInput.value !== contrasenaInput.value) {
        errores += 'La contraseña no coincide, inténtelo nuevamente\n';
    }

    if (errores === '') {
        alert("El formulario se ha enviado")
        form.submit();
    } else {
        alert(errores);
    }
});
    </script>

</body>

</html>